(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[16],{

/***/ "./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment-webgl1.glsl.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment-webgl1.glsl.js ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"#define SHADER_NAME screen-grid-layer-fragment-shader-webgl1\\n\\nprecision highp float;\\n\\nvarying vec4 vColor;\\nvarying float vSampleCount;\\n\\nvoid main(void) {\\n  if (vSampleCount <= 0.0) {\\n    discard;\\n  }\\n  gl_FragColor = vColor;\\n\\n  gl_FragColor = picking_filterColor(gl_FragColor);\\n}\\n\");\n//# sourceMappingURL=screen-grid-layer-fragment-webgl1.glsl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzL2Rpc3QvZXNtL3NjcmVlbi1ncmlkLWxheWVyL3NjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50LXdlYmdsMS5nbHNsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BkZWNrLmdsL2FnZ3JlZ2F0aW9uLWxheWVycy9kaXN0L2VzbS9zY3JlZW4tZ3JpZC1sYXllci9zY3JlZW4tZ3JpZC1sYXllci1mcmFnbWVudC13ZWJnbDEuZ2xzbC5qcz8zZmNkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiI2RlZmluZSBTSEFERVJfTkFNRSBzY3JlZW4tZ3JpZC1sYXllci1mcmFnbWVudC1zaGFkZXItd2ViZ2wxXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2U2FtcGxlQ291bnQ7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gIGlmICh2U2FtcGxlQ291bnQgPD0gMC4wKSB7XFxuICAgIGRpc2NhcmQ7XFxuICB9XFxuICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuXFxuICBnbF9GcmFnQ29sb3IgPSBwaWNraW5nX2ZpbHRlckNvbG9yKGdsX0ZyYWdDb2xvcik7XFxufVxcblwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NyZWVuLWdyaWQtbGF5ZXItZnJhZ21lbnQtd2ViZ2wxLmdsc2wuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment-webgl1.glsl.js\n");

/***/ }),

/***/ "./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment.glsl.js":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment.glsl.js ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"#version 300 es\\n#define SHADER_NAME screen-grid-layer-fragment-shader\\n\\nprecision highp float;\\n\\nin vec4 vColor;\\nin float vSampleCount;\\nout vec4 fragColor;\\n\\nvoid main(void) {\\n  if (vSampleCount <= 0.0) {\\n    discard;\\n  }\\n  fragColor = vColor;\\n\\n  fragColor = picking_filterColor(fragColor);\\n}\\n\");\n//# sourceMappingURL=screen-grid-layer-fragment.glsl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzL2Rpc3QvZXNtL3NjcmVlbi1ncmlkLWxheWVyL3NjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50Lmdsc2wuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzL2Rpc3QvZXNtL3NjcmVlbi1ncmlkLWxheWVyL3NjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50Lmdsc2wuanM/YWNlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIiN2ZXJzaW9uIDMwMCBlc1xcbiNkZWZpbmUgU0hBREVSX05BTUUgc2NyZWVuLWdyaWQtbGF5ZXItZnJhZ21lbnQtc2hhZGVyXFxuXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbmluIHZlYzQgdkNvbG9yO1xcbmluIGZsb2F0IHZTYW1wbGVDb3VudDtcXG5vdXQgdmVjNCBmcmFnQ29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG4gIGlmICh2U2FtcGxlQ291bnQgPD0gMC4wKSB7XFxuICAgIGRpc2NhcmQ7XFxuICB9XFxuICBmcmFnQ29sb3IgPSB2Q29sb3I7XFxuXFxuICBmcmFnQ29sb3IgPSBwaWNraW5nX2ZpbHRlckNvbG9yKGZyYWdDb2xvcik7XFxufVxcblwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NyZWVuLWdyaWQtbGF5ZXItZnJhZ21lbnQuZ2xzbC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment.glsl.js\n");

/***/ }),

/***/ "./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex-webgl1.glsl.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex-webgl1.glsl.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"#define SHADER_NAME screen-grid-layer-vertex-shader-webgl1\\n#define RANGE_COUNT 6\\n\\nattribute vec3 positions;\\nattribute vec3 instancePositions;\\nattribute vec4 instanceCounts;\\nattribute vec3 instancePickingColors;\\n\\nuniform float opacity;\\nuniform vec3 cellScale;\\nuniform vec4 minColor;\\nuniform vec4 maxColor;\\nuniform float maxWeight;\\nuniform vec4 colorRange[RANGE_COUNT];\\nuniform vec2 colorDomain;\\nuniform bool shouldUseMinMax;\\n\\nvarying vec4 vColor;\\nvarying float vSampleCount;\\n\\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\\n  vec4 outColor = vec4(0., 0., 0., 0.);\\n  if (value >= domain.x && value <= domain.y) {\\n    float domainRange = domain.y - domain.x;\\n    if (domainRange <= 0.) {\\n      outColor = colorRange[0];\\n    } else {\\n      float rangeCount = float(RANGE_COUNT);\\n      float rangeStep = domainRange / rangeCount;\\n      float idx = floor((value - domain.x) / rangeStep);\\n      idx = clamp(idx, 0., rangeCount - 1.);\\n      int intIdx = int(idx);\\n      outColor = colorRange[intIdx];\\n    }\\n  }\\n  outColor = outColor / 255.;\\n  return outColor;\\n}\\n\\nvoid main(void) {\\n  vSampleCount = instanceCounts.a;\\n\\n  float weight = instanceCounts.r;\\n  float step = weight / maxWeight;\\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\\n\\n  vec2 domain = colorDomain;\\n  float domainMaxValid = float(colorDomain.y != 0.);\\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\\n\\n  float rangeMinMax = float(shouldUseMinMax);\\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\\n  vColor = vec4(color.rgb, color.a * opacity);\\n  picking_setPickingColor(instancePickingColors);\\n\\n  gl_Position = vec4(instancePositions + positions * cellScale, 1.);\\n}\\n\");\n//# sourceMappingURL=screen-grid-layer-vertex-webgl1.glsl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzL2Rpc3QvZXNtL3NjcmVlbi1ncmlkLWxheWVyL3NjcmVlbi1ncmlkLWxheWVyLXZlcnRleC13ZWJnbDEuZ2xzbC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AZGVjay5nbC9hZ2dyZWdhdGlvbi1sYXllcnMvZGlzdC9lc20vc2NyZWVuLWdyaWQtbGF5ZXIvc2NyZWVuLWdyaWQtbGF5ZXItdmVydGV4LXdlYmdsMS5nbHNsLmpzP2U2YTgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIjZGVmaW5lIFNIQURFUl9OQU1FIHNjcmVlbi1ncmlkLWxheWVyLXZlcnRleC1zaGFkZXItd2ViZ2wxXFxuI2RlZmluZSBSQU5HRV9DT1VOVCA2XFxuXFxuYXR0cmlidXRlIHZlYzMgcG9zaXRpb25zO1xcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUG9zaXRpb25zO1xcbmF0dHJpYnV0ZSB2ZWM0IGluc3RhbmNlQ291bnRzO1xcbmF0dHJpYnV0ZSB2ZWMzIGluc3RhbmNlUGlja2luZ0NvbG9ycztcXG5cXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxudW5pZm9ybSB2ZWMzIGNlbGxTY2FsZTtcXG51bmlmb3JtIHZlYzQgbWluQ29sb3I7XFxudW5pZm9ybSB2ZWM0IG1heENvbG9yO1xcbnVuaWZvcm0gZmxvYXQgbWF4V2VpZ2h0O1xcbnVuaWZvcm0gdmVjNCBjb2xvclJhbmdlW1JBTkdFX0NPVU5UXTtcXG51bmlmb3JtIHZlYzIgY29sb3JEb21haW47XFxudW5pZm9ybSBib29sIHNob3VsZFVzZU1pbk1heDtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlNhbXBsZUNvdW50O1xcblxcbnZlYzQgcXVhbnRpemVTY2FsZSh2ZWMyIGRvbWFpbiwgdmVjNCByYW5nZVtSQU5HRV9DT1VOVF0sIGZsb2F0IHZhbHVlKSB7XFxuICB2ZWM0IG91dENvbG9yID0gdmVjNCgwLiwgMC4sIDAuLCAwLik7XFxuICBpZiAodmFsdWUgPj0gZG9tYWluLnggJiYgdmFsdWUgPD0gZG9tYWluLnkpIHtcXG4gICAgZmxvYXQgZG9tYWluUmFuZ2UgPSBkb21haW4ueSAtIGRvbWFpbi54O1xcbiAgICBpZiAoZG9tYWluUmFuZ2UgPD0gMC4pIHtcXG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XFxuICAgIH0gZWxzZSB7XFxuICAgICAgZmxvYXQgcmFuZ2VDb3VudCA9IGZsb2F0KFJBTkdFX0NPVU5UKTtcXG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XFxuICAgICAgZmxvYXQgaWR4ID0gZmxvb3IoKHZhbHVlIC0gZG9tYWluLngpIC8gcmFuZ2VTdGVwKTtcXG4gICAgICBpZHggPSBjbGFtcChpZHgsIDAuLCByYW5nZUNvdW50IC0gMS4pO1xcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcXG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbaW50SWR4XTtcXG4gICAgfVxcbiAgfVxcbiAgb3V0Q29sb3IgPSBvdXRDb2xvciAvIDI1NS47XFxuICByZXR1cm4gb3V0Q29sb3I7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICB2U2FtcGxlQ291bnQgPSBpbnN0YW5jZUNvdW50cy5hO1xcblxcbiAgZmxvYXQgd2VpZ2h0ID0gaW5zdGFuY2VDb3VudHMucjtcXG4gIGZsb2F0IHN0ZXAgPSB3ZWlnaHQgLyBtYXhXZWlnaHQ7XFxuICB2ZWM0IG1pbk1heENvbG9yID0gbWl4KG1pbkNvbG9yLCBtYXhDb2xvciwgc3RlcCkgLyAyNTUuO1xcblxcbiAgdmVjMiBkb21haW4gPSBjb2xvckRvbWFpbjtcXG4gIGZsb2F0IGRvbWFpbk1heFZhbGlkID0gZmxvYXQoY29sb3JEb21haW4ueSAhPSAwLik7XFxuICBkb21haW4ueSA9IG1peChtYXhXZWlnaHQsIGNvbG9yRG9tYWluLnksIGRvbWFpbk1heFZhbGlkKTtcXG4gIHZlYzQgcmFuZ2VDb2xvciA9IHF1YW50aXplU2NhbGUoZG9tYWluLCBjb2xvclJhbmdlLCB3ZWlnaHQpO1xcblxcbiAgZmxvYXQgcmFuZ2VNaW5NYXggPSBmbG9hdChzaG91bGRVc2VNaW5NYXgpO1xcbiAgdmVjNCBjb2xvciA9IG1peChyYW5nZUNvbG9yLCBtaW5NYXhDb2xvciwgcmFuZ2VNaW5NYXgpO1xcbiAgdkNvbG9yID0gdmVjNChjb2xvci5yZ2IsIGNvbG9yLmEgKiBvcGFjaXR5KTtcXG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XFxuXFxuICBnbF9Qb3NpdGlvbiA9IHZlYzQoaW5zdGFuY2VQb3NpdGlvbnMgKyBwb3NpdGlvbnMgKiBjZWxsU2NhbGUsIDEuKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY3JlZW4tZ3JpZC1sYXllci12ZXJ0ZXgtd2ViZ2wxLmdsc2wuanMubWFwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex-webgl1.glsl.js\n");

/***/ }),

/***/ "./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex.glsl.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex.glsl.js ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"#version 300 es\\n#define SHADER_NAME screen-grid-layer-vertex-shader\\n#define RANGE_COUNT 6\\n\\nin vec3 positions;\\nin vec3 instancePositions;\\nin vec4 instanceCounts;\\nin vec3 instancePickingColors;\\n\\nlayout(std140) uniform;\\nuniform float opacity;\\nuniform vec3 cellScale;\\nuniform vec4 minColor;\\nuniform vec4 maxColor;\\nuniform AggregationData\\n{\\n  vec4 maxCount;\\n} aggregationData;\\n\\nuniform vec4 colorRange[RANGE_COUNT];\\nuniform vec2 colorDomain;\\nuniform bool shouldUseMinMax;\\n\\nout vec4 vColor;\\nout float vSampleCount;\\n\\nvec4 quantizeScale(vec2 domain, vec4 range[RANGE_COUNT], float value) {\\n  vec4 outColor = vec4(0., 0., 0., 0.);\\n  if (value >= domain.x && value <= domain.y) {\\n    float domainRange = domain.y - domain.x;\\n    if (domainRange <= 0.) {\\n      outColor = colorRange[0];\\n    } else {\\n      float rangeCount = float(RANGE_COUNT);\\n      float rangeStep = domainRange / rangeCount;\\n      float idx = floor((value - domain.x) / rangeStep);\\n      idx = clamp(idx, 0., rangeCount - 1.);\\n      int intIdx = int(idx);\\n      outColor = colorRange[intIdx];\\n    }\\n  }\\n  outColor = outColor / 255.;\\n  return outColor;\\n}\\n\\nvoid main(void) {\\n  vSampleCount = instanceCounts.a;\\n\\n  float weight = instanceCounts.r ;\\n  float maxWeight = aggregationData.maxCount.r;\\n  float step = weight / maxWeight;\\n  vec4 minMaxColor = mix(minColor, maxColor, step) / 255.;\\n\\n  vec2 domain = colorDomain;\\n  float domainMaxValid = float(colorDomain.y != 0.);\\n  domain.y = mix(maxWeight, colorDomain.y, domainMaxValid);\\n  vec4 rangeColor = quantizeScale(domain, colorRange, weight);\\n\\n  float rangeMinMax = float(shouldUseMinMax);\\n  vec4 color = mix(rangeColor, minMaxColor, rangeMinMax);\\n  vColor = vec4(color.rgb, color.a * opacity);\\n  picking_setPickingColor(instancePickingColors);\\n\\n  gl_Position = vec4(instancePositions + positions * cellScale, 1.);\\n}\\n\");\n//# sourceMappingURL=screen-grid-layer-vertex.glsl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzL2Rpc3QvZXNtL3NjcmVlbi1ncmlkLWxheWVyL3NjcmVlbi1ncmlkLWxheWVyLXZlcnRleC5nbHNsLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BkZWNrLmdsL2FnZ3JlZ2F0aW9uLWxheWVycy9kaXN0L2VzbS9zY3JlZW4tZ3JpZC1sYXllci9zY3JlZW4tZ3JpZC1sYXllci12ZXJ0ZXguZ2xzbC5qcz80Mjc0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiI3ZlcnNpb24gMzAwIGVzXFxuI2RlZmluZSBTSEFERVJfTkFNRSBzY3JlZW4tZ3JpZC1sYXllci12ZXJ0ZXgtc2hhZGVyXFxuI2RlZmluZSBSQU5HRV9DT1VOVCA2XFxuXFxuaW4gdmVjMyBwb3NpdGlvbnM7XFxuaW4gdmVjMyBpbnN0YW5jZVBvc2l0aW9ucztcXG5pbiB2ZWM0IGluc3RhbmNlQ291bnRzO1xcbmluIHZlYzMgaW5zdGFuY2VQaWNraW5nQ29sb3JzO1xcblxcbmxheW91dChzdGQxNDApIHVuaWZvcm07XFxudW5pZm9ybSBmbG9hdCBvcGFjaXR5O1xcbnVuaWZvcm0gdmVjMyBjZWxsU2NhbGU7XFxudW5pZm9ybSB2ZWM0IG1pbkNvbG9yO1xcbnVuaWZvcm0gdmVjNCBtYXhDb2xvcjtcXG51bmlmb3JtIEFnZ3JlZ2F0aW9uRGF0YVxcbntcXG4gIHZlYzQgbWF4Q291bnQ7XFxufSBhZ2dyZWdhdGlvbkRhdGE7XFxuXFxudW5pZm9ybSB2ZWM0IGNvbG9yUmFuZ2VbUkFOR0VfQ09VTlRdO1xcbnVuaWZvcm0gdmVjMiBjb2xvckRvbWFpbjtcXG51bmlmb3JtIGJvb2wgc2hvdWxkVXNlTWluTWF4O1xcblxcbm91dCB2ZWM0IHZDb2xvcjtcXG5vdXQgZmxvYXQgdlNhbXBsZUNvdW50O1xcblxcbnZlYzQgcXVhbnRpemVTY2FsZSh2ZWMyIGRvbWFpbiwgdmVjNCByYW5nZVtSQU5HRV9DT1VOVF0sIGZsb2F0IHZhbHVlKSB7XFxuICB2ZWM0IG91dENvbG9yID0gdmVjNCgwLiwgMC4sIDAuLCAwLik7XFxuICBpZiAodmFsdWUgPj0gZG9tYWluLnggJiYgdmFsdWUgPD0gZG9tYWluLnkpIHtcXG4gICAgZmxvYXQgZG9tYWluUmFuZ2UgPSBkb21haW4ueSAtIGRvbWFpbi54O1xcbiAgICBpZiAoZG9tYWluUmFuZ2UgPD0gMC4pIHtcXG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbMF07XFxuICAgIH0gZWxzZSB7XFxuICAgICAgZmxvYXQgcmFuZ2VDb3VudCA9IGZsb2F0KFJBTkdFX0NPVU5UKTtcXG4gICAgICBmbG9hdCByYW5nZVN0ZXAgPSBkb21haW5SYW5nZSAvIHJhbmdlQ291bnQ7XFxuICAgICAgZmxvYXQgaWR4ID0gZmxvb3IoKHZhbHVlIC0gZG9tYWluLngpIC8gcmFuZ2VTdGVwKTtcXG4gICAgICBpZHggPSBjbGFtcChpZHgsIDAuLCByYW5nZUNvdW50IC0gMS4pO1xcbiAgICAgIGludCBpbnRJZHggPSBpbnQoaWR4KTtcXG4gICAgICBvdXRDb2xvciA9IGNvbG9yUmFuZ2VbaW50SWR4XTtcXG4gICAgfVxcbiAgfVxcbiAgb3V0Q29sb3IgPSBvdXRDb2xvciAvIDI1NS47XFxuICByZXR1cm4gb3V0Q29sb3I7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICB2U2FtcGxlQ291bnQgPSBpbnN0YW5jZUNvdW50cy5hO1xcblxcbiAgZmxvYXQgd2VpZ2h0ID0gaW5zdGFuY2VDb3VudHMuciA7XFxuICBmbG9hdCBtYXhXZWlnaHQgPSBhZ2dyZWdhdGlvbkRhdGEubWF4Q291bnQucjtcXG4gIGZsb2F0IHN0ZXAgPSB3ZWlnaHQgLyBtYXhXZWlnaHQ7XFxuICB2ZWM0IG1pbk1heENvbG9yID0gbWl4KG1pbkNvbG9yLCBtYXhDb2xvciwgc3RlcCkgLyAyNTUuO1xcblxcbiAgdmVjMiBkb21haW4gPSBjb2xvckRvbWFpbjtcXG4gIGZsb2F0IGRvbWFpbk1heFZhbGlkID0gZmxvYXQoY29sb3JEb21haW4ueSAhPSAwLik7XFxuICBkb21haW4ueSA9IG1peChtYXhXZWlnaHQsIGNvbG9yRG9tYWluLnksIGRvbWFpbk1heFZhbGlkKTtcXG4gIHZlYzQgcmFuZ2VDb2xvciA9IHF1YW50aXplU2NhbGUoZG9tYWluLCBjb2xvclJhbmdlLCB3ZWlnaHQpO1xcblxcbiAgZmxvYXQgcmFuZ2VNaW5NYXggPSBmbG9hdChzaG91bGRVc2VNaW5NYXgpO1xcbiAgdmVjNCBjb2xvciA9IG1peChyYW5nZUNvbG9yLCBtaW5NYXhDb2xvciwgcmFuZ2VNaW5NYXgpO1xcbiAgdkNvbG9yID0gdmVjNChjb2xvci5yZ2IsIGNvbG9yLmEgKiBvcGFjaXR5KTtcXG4gIHBpY2tpbmdfc2V0UGlja2luZ0NvbG9yKGluc3RhbmNlUGlja2luZ0NvbG9ycyk7XFxuXFxuICBnbF9Qb3NpdGlvbiA9IHZlYzQoaW5zdGFuY2VQb3NpdGlvbnMgKyBwb3NpdGlvbnMgKiBjZWxsU2NhbGUsIDEuKTtcXG59XFxuXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY3JlZW4tZ3JpZC1sYXllci12ZXJ0ZXguZ2xzbC5qcy5tYXAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex.glsl.js\n");

/***/ }),

/***/ "./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ScreenGridLayer; });\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _deck_gl_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @deck.gl/core */ \"./node_modules/@deck.gl/core/dist/esm/index.js\");\n/* harmony import */ var _deck_gl_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @deck.gl/core */ \"./node_modules/@deck.gl/core/dist/esm/utils/iterable-utils.js\");\n/* harmony import */ var _deck_gl_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @deck.gl/core */ \"./node_modules/@deck.gl/core/dist/esm/utils/log.js\");\n/* harmony import */ var _deck_gl_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @deck.gl/core */ \"./node_modules/@deck.gl/core/dist/esm/viewports/web-mercator-viewport.js\");\n/* harmony import */ var _deck_gl_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @deck.gl/core */ \"./node_modules/@deck.gl/core/dist/esm/lib/layer.js\");\n/* harmony import */ var _utils_color_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/color-utils */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/utils/color-utils.js\");\n/* harmony import */ var _utils_gpu_grid_aggregation_gpu_grid_aggregator__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/gpu-grid-aggregation/gpu-grid-aggregator */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/utils/gpu-grid-aggregation/gpu-grid-aggregator.js\");\n/* harmony import */ var _utils_aggregation_operation_utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/aggregation-operation-utils */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/utils/aggregation-operation-utils.js\");\n/* harmony import */ var _luma_gl_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @luma.gl/core */ \"./node_modules/@luma.gl/webgl/dist/esm/webgl-utils/webgl-checks.js\");\n/* harmony import */ var _luma_gl_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @luma.gl/core */ \"./node_modules/@luma.gl/core/dist/esm/lib/model.js\");\n/* harmony import */ var _luma_gl_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @luma.gl/core */ \"./node_modules/@luma.gl/core/dist/esm/geometry/geometry.js\");\n/* harmony import */ var _luma_gl_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @luma.gl/core */ \"./node_modules/@luma.gl/webgl/dist/esm/classes/buffer.js\");\n/* harmony import */ var _screen_grid_layer_vertex_glsl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./screen-grid-layer-vertex.glsl */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex.glsl.js\");\n/* harmony import */ var _screen_grid_layer_vertex_webgl1_glsl__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./screen-grid-layer-vertex-webgl1.glsl */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-vertex-webgl1.glsl.js\");\n/* harmony import */ var _screen_grid_layer_fragment_glsl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./screen-grid-layer-fragment.glsl */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment.glsl.js\");\n/* harmony import */ var _screen_grid_layer_fragment_webgl1_glsl__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./screen-grid-layer-fragment-webgl1.glsl */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer-fragment-webgl1.glsl.js\");\n\n\n\n\n\n\n\nvar count = _deck_gl_core__WEBPACK_IMPORTED_MODULE_6__[\"experimental\"].count;\n\n\n\n\n\n\n\n\nvar DEFAULT_MINCOLOR = [0, 0, 0, 0];\nvar DEFAULT_MAXCOLOR = [0, 255, 0, 255];\nvar AGGREGATION_DATA_UBO_INDEX = 0;\nvar COLOR_PROPS = [\"minColor\", \"maxColor\", \"colorRange\", \"colorDomain\"];\nvar defaultProps = {\n  cellSizePixels: {\n    value: 100,\n    min: 1\n  },\n  cellMarginPixels: {\n    value: 2,\n    min: 0,\n    max: 5\n  },\n  colorDomain: null,\n  colorRange: _utils_color_utils__WEBPACK_IMPORTED_MODULE_11__[\"defaultColorRange\"],\n  getPosition: {\n    type: 'accessor',\n    value: function value(d) {\n      return d.position;\n    }\n  },\n  getWeight: {\n    type: 'accessor',\n    value: function value(d) {\n      return [1, 0, 0];\n    }\n  },\n  gpuAggregation: true,\n  aggregation: 'SUM'\n};\n\nvar ScreenGridLayer = function (_Layer) {\n  Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ScreenGridLayer, _Layer);\n\n  function ScreenGridLayer() {\n    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, ScreenGridLayer);\n\n    return Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ScreenGridLayer).apply(this, arguments));\n  }\n\n  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ScreenGridLayer, [{\n    key: \"getShaders\",\n    value: function getShaders() {\n      var shaders = Object(_luma_gl_core__WEBPACK_IMPORTED_MODULE_14__[\"isWebGL2\"])(this.context.gl) ? {\n        vs: _screen_grid_layer_vertex_glsl__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n        fs: _screen_grid_layer_fragment_glsl__WEBPACK_IMPORTED_MODULE_20__[\"default\"]\n      } : {\n        vs: _screen_grid_layer_vertex_webgl1_glsl__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n        fs: _screen_grid_layer_fragment_webgl1_glsl__WEBPACK_IMPORTED_MODULE_21__[\"default\"]\n      };\n      shaders.modules = ['picking'];\n      return shaders;\n    }\n  }, {\n    key: \"initializeState\",\n    value: function initializeState() {\n      var attributeManager = this.getAttributeManager();\n      var gl = this.context.gl;\n      attributeManager.addInstanced({\n        instancePositions: {\n          size: 3,\n          update: this.calculateInstancePositions\n        },\n        instanceCounts: {\n          size: 4,\n          transition: true,\n          accessor: ['getPosition', 'getWeight'],\n          update: this.calculateInstanceCounts,\n          noAlloc: true\n        }\n      });\n      var options = {\n        id: \"\".concat(this.id, \"-aggregator\"),\n        shaderCache: this.context.shaderCache\n      };\n\n      var maxBuffer = this._getMaxCountBuffer(gl);\n\n      var weights = {\n        color: {\n          size: 1,\n          operation: _utils_aggregation_operation_utils__WEBPACK_IMPORTED_MODULE_13__[\"AGGREGATION_OPERATION\"].SUM,\n          needMax: true,\n          maxBuffer: maxBuffer\n        }\n      };\n      this.setState({\n        model: this._getModel(gl),\n        gpuGridAggregator: new _utils_gpu_grid_aggregation_gpu_grid_aggregator__WEBPACK_IMPORTED_MODULE_12__[\"default\"](gl, options),\n        maxBuffer: maxBuffer,\n        weights: weights\n      });\n\n      this._setupUniformBuffer();\n    }\n  }, {\n    key: \"shouldUpdateState\",\n    value: function shouldUpdateState(_ref) {\n      var changeFlags = _ref.changeFlags;\n      return changeFlags.somethingChanged;\n    }\n  }, {\n    key: \"updateState\",\n    value: function updateState(opts) {\n      Object(_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ScreenGridLayer.prototype), \"updateState\", this).call(this, opts);\n\n      this._updateUniforms(opts);\n\n      if (opts.changeFlags.dataChanged) {\n        this._processData();\n      }\n\n      var changeFlags = this._getAggregationChangeFlags(opts);\n\n      if (changeFlags) {\n        this._updateAggregation(changeFlags);\n      }\n    }\n  }, {\n    key: \"finalizeState\",\n    value: function finalizeState() {\n      Object(_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(ScreenGridLayer.prototype), \"finalizeState\", this).call(this);\n\n      var _this$state = this.state,\n          aggregationBuffer = _this$state.aggregationBuffer,\n          maxBuffer = _this$state.maxBuffer,\n          gpuGridAggregator = _this$state.gpuGridAggregator;\n      gpuGridAggregator.delete();\n\n      if (aggregationBuffer) {\n        aggregationBuffer.delete();\n      }\n\n      if (maxBuffer) {\n        maxBuffer.delete();\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var uniforms = _ref2.uniforms;\n      var gl = this.context.gl;\n      var _this$props$parameter = this.props.parameters,\n          parameters = _this$props$parameter === void 0 ? {} : _this$props$parameter;\n      var minColor = this.props.minColor || DEFAULT_MINCOLOR;\n      var maxColor = this.props.maxColor || DEFAULT_MAXCOLOR;\n      var colorDomain = this.props.colorDomain || [1, 0];\n      var _this$state2 = this.state,\n          model = _this$state2.model,\n          maxBuffer = _this$state2.maxBuffer,\n          cellScale = _this$state2.cellScale,\n          shouldUseMinMax = _this$state2.shouldUseMinMax,\n          colorRange = _this$state2.colorRange,\n          maxWeight = _this$state2.maxWeight;\n      var layerUniforms = {\n        minColor: minColor,\n        maxColor: maxColor,\n        cellScale: cellScale,\n        colorRange: colorRange,\n        colorDomain: colorDomain,\n        shouldUseMinMax: shouldUseMinMax\n      };\n\n      if (Object(_luma_gl_core__WEBPACK_IMPORTED_MODULE_14__[\"isWebGL2\"])(gl)) {\n        maxBuffer.bind({\n          target: 35345\n        });\n      } else {\n        layerUniforms.maxWeight = maxWeight;\n      }\n\n      uniforms = Object.assign(layerUniforms, uniforms);\n      model.draw({\n        uniforms: uniforms,\n        parameters: Object.assign({\n          depthTest: false,\n          depthMask: false\n        }, parameters)\n      });\n\n      if (Object(_luma_gl_core__WEBPACK_IMPORTED_MODULE_14__[\"isWebGL2\"])(gl)) {\n        maxBuffer.unbind();\n      }\n    }\n  }, {\n    key: \"calculateInstancePositions\",\n    value: function calculateInstancePositions(attribute, _ref3) {\n      var numInstances = _ref3.numInstances;\n      var _this$context$viewpor = this.context.viewport,\n          width = _this$context$viewpor.width,\n          height = _this$context$viewpor.height;\n      var cellSizePixels = this.props.cellSizePixels;\n      var numCol = this.state.numCol;\n      var value = attribute.value,\n          size = attribute.size;\n\n      for (var i = 0; i < numInstances; i++) {\n        var x = i % numCol;\n        var y = Math.floor(i / numCol);\n        value[i * size + 0] = x * cellSizePixels / width * 2 - 1;\n        value[i * size + 1] = 1 - y * cellSizePixels / height * 2;\n        value[i * size + 2] = 0;\n      }\n    }\n  }, {\n    key: \"calculateInstanceCounts\",\n    value: function calculateInstanceCounts(attribute, _ref4) {\n      var numInstances = _ref4.numInstances;\n      var aggregationBuffer = this.state.aggregationBuffer;\n      attribute.update({\n        buffer: aggregationBuffer\n      });\n    }\n  }, {\n    key: \"getPickingInfo\",\n    value: function getPickingInfo(_ref5) {\n      var info = _ref5.info,\n          mode = _ref5.mode;\n      var index = info.index;\n\n      if (index >= 0) {\n        var gpuGridAggregator = this.state.gpuGridAggregator;\n        var aggregationResults = gpuGridAggregator.getData('color');\n        info.object = _utils_gpu_grid_aggregation_gpu_grid_aggregator__WEBPACK_IMPORTED_MODULE_12__[\"default\"].getAggregationData(Object.assign({\n          pixelIndex: index\n        }, aggregationResults));\n      }\n\n      return info;\n    }\n  }, {\n    key: \"_getAggregationChangeFlags\",\n    value: function _getAggregationChangeFlags(_ref6) {\n      var oldProps = _ref6.oldProps,\n          props = _ref6.props,\n          changeFlags = _ref6.changeFlags;\n      var cellSizeChanged = props.cellSizePixels !== oldProps.cellSizePixels || props.cellMarginPixels !== oldProps.cellMarginPixels;\n      var dataChanged = changeFlags.dataChanged || props.aggregation !== oldProps.aggregation;\n      var viewportChanged = changeFlags.viewportChanged;\n\n      if (cellSizeChanged || dataChanged || viewportChanged) {\n        return {\n          cellSizeChanged: cellSizeChanged,\n          dataChanged: dataChanged,\n          viewportChanged: viewportChanged\n        };\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_getModel\",\n    value: function _getModel(gl) {\n      return new _luma_gl_core__WEBPACK_IMPORTED_MODULE_15__[\"default\"](gl, Object.assign({}, this.getShaders(), {\n        id: this.props.id,\n        geometry: new _luma_gl_core__WEBPACK_IMPORTED_MODULE_16__[\"default\"]({\n          drawMode: 6,\n          attributes: {\n            positions: new Float32Array([0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0])\n          }\n        }),\n        isInstanced: true,\n        shaderCache: this.context.shaderCache\n      }));\n    }\n  }, {\n    key: \"_getMaxCountBuffer\",\n    value: function _getMaxCountBuffer(gl) {\n      return new _luma_gl_core__WEBPACK_IMPORTED_MODULE_17__[\"default\"](gl, {\n        byteLength: 4 * 4,\n        index: AGGREGATION_DATA_UBO_INDEX,\n        accessor: {\n          size: 4\n        }\n      });\n    }\n  }, {\n    key: \"_processData\",\n    value: function _processData() {\n      var _this$props = this.props,\n          data = _this$props.data,\n          getPosition = _this$props.getPosition,\n          getWeight = _this$props.getWeight;\n      var pointCount = count(data);\n      var positions = new Float64Array(pointCount * 2);\n      var colorWeights = new Float32Array(pointCount * 3);\n      var weights = this.state.weights;\n\n      var _createIterable = Object(_deck_gl_core__WEBPACK_IMPORTED_MODULE_7__[\"createIterable\"])(data),\n          iterable = _createIterable.iterable,\n          objectInfo = _createIterable.objectInfo;\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = iterable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var object = _step.value;\n          objectInfo.index++;\n          var position = getPosition(object, objectInfo);\n          var weight = getWeight(object, objectInfo);\n          var index = objectInfo.index;\n          positions[index * 2] = position[0];\n          positions[index * 2 + 1] = position[1];\n\n          if (Array.isArray(weight)) {\n            colorWeights[index * 3] = weight[0];\n            colorWeights[index * 3 + 1] = weight[1];\n            colorWeights[index * 3 + 2] = weight[2];\n          } else {\n            colorWeights[index * 3] = weight;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      weights.color.values = colorWeights;\n      this.setState({\n        positions: positions\n      });\n    }\n  }, {\n    key: \"_setupUniformBuffer\",\n    value: function _setupUniformBuffer() {\n      var gl = this.context.gl;\n\n      if (!Object(_luma_gl_core__WEBPACK_IMPORTED_MODULE_14__[\"isWebGL2\"])(gl)) {\n        return;\n      }\n\n      var programHandle = this.state.model.program.handle;\n      var uniformBlockIndex = gl.getUniformBlockIndex(programHandle, 'AggregationData');\n      gl.uniformBlockBinding(programHandle, uniformBlockIndex, AGGREGATION_DATA_UBO_INDEX);\n    }\n  }, {\n    key: \"_shouldUseMinMax\",\n    value: function _shouldUseMinMax() {\n      var _this$props2 = this.props,\n          minColor = _this$props2.minColor,\n          maxColor = _this$props2.maxColor,\n          colorDomain = _this$props2.colorDomain,\n          colorRange = _this$props2.colorRange;\n\n      if (minColor || maxColor) {\n        _deck_gl_core__WEBPACK_IMPORTED_MODULE_8__[\"default\"].deprecated('ScreenGridLayer props: minColor and maxColor', 'colorRange, colorDomain')();\n        return true;\n      }\n\n      if (colorDomain || colorRange) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_updateAggregation\",\n    value: function _updateAggregation(changeFlags) {\n      var attributeManager = this.getAttributeManager();\n\n      if (changeFlags.cellSizeChanged || changeFlags.viewportChanged) {\n        this._updateGridParams();\n\n        attributeManager.invalidateAll();\n      }\n\n      var _this$props3 = this.props,\n          cellSizePixels = _this$props3.cellSizePixels,\n          gpuAggregation = _this$props3.gpuAggregation;\n      var _this$state3 = this.state,\n          positions = _this$state3.positions,\n          weights = _this$state3.weights;\n      var viewport = this.context.viewport;\n      weights.color.operation = _utils_aggregation_operation_utils__WEBPACK_IMPORTED_MODULE_13__[\"AGGREGATION_OPERATION\"][this.props.aggregation.toUpperCase()] || _utils_aggregation_operation_utils__WEBPACK_IMPORTED_MODULE_13__[\"AGGREGATION_OPERATION\"].SUM;\n      var projectPoints = false;\n      var gridTransformMatrix = null;\n\n      if (this.context.viewport instanceof _deck_gl_core__WEBPACK_IMPORTED_MODULE_9__[\"default\"]) {\n        projectPoints = true;\n      } else {\n        projectPoints = false;\n        gridTransformMatrix = viewport.pixelProjectionMatrix;\n      }\n\n      var results = this.state.gpuGridAggregator.run({\n        positions: positions,\n        weights: weights,\n        cellSize: [cellSizePixels, cellSizePixels],\n        viewport: viewport,\n        changeFlags: changeFlags,\n        useGPU: gpuAggregation,\n        projectPoints: projectPoints,\n        gridTransformMatrix: gridTransformMatrix\n      });\n      var maxWeight = results.color.maxData && Number.isFinite(results.color.maxData[0]) ? results.color.maxData[0] : 0;\n      this.setState({\n        maxWeight: maxWeight\n      });\n      attributeManager.invalidate('instanceCounts');\n    }\n  }, {\n    key: \"_updateUniforms\",\n    value: function _updateUniforms(_ref7) {\n      var oldProps = _ref7.oldProps,\n          props = _ref7.props,\n          changeFlags = _ref7.changeFlags;\n      var newState = {};\n\n      if (COLOR_PROPS.some(function (key) {\n        return oldProps[key] !== props[key];\n      })) {\n        newState.shouldUseMinMax = this._shouldUseMinMax();\n      }\n\n      if (oldProps.colorRange !== props.colorRange) {\n        newState.colorRange = Object(_utils_color_utils__WEBPACK_IMPORTED_MODULE_11__[\"colorRangeToFlatArray\"])(props.colorRange, Float32Array, 255);\n      }\n\n      if (oldProps.cellMarginPixels !== props.cellMarginPixels || oldProps.cellSizePixels !== props.cellSizePixels || changeFlags.viewportChanged) {\n        var _this$context$viewpor2 = this.context.viewport,\n            width = _this$context$viewpor2.width,\n            height = _this$context$viewpor2.height;\n        var _this$props4 = this.props,\n            cellSizePixels = _this$props4.cellSizePixels,\n            cellMarginPixels = _this$props4.cellMarginPixels;\n        var margin = cellSizePixels > cellMarginPixels ? cellMarginPixels : 0;\n        newState.cellScale = new Float32Array([(cellSizePixels - margin) / width * 2, -(cellSizePixels - margin) / height * 2, 1]);\n      }\n\n      this.setState(newState);\n    }\n  }, {\n    key: \"_updateGridParams\",\n    value: function _updateGridParams() {\n      var _this$context$viewpor3 = this.context.viewport,\n          width = _this$context$viewpor3.width,\n          height = _this$context$viewpor3.height;\n      var cellSizePixels = this.props.cellSizePixels;\n      var gl = this.context.gl;\n      var numCol = Math.ceil(width / cellSizePixels);\n      var numRow = Math.ceil(height / cellSizePixels);\n      var numInstances = numCol * numRow;\n      var dataBytes = numInstances * 4 * 4;\n      var aggregationBuffer = this.state.aggregationBuffer;\n\n      if (aggregationBuffer) {\n        aggregationBuffer.delete();\n      }\n\n      aggregationBuffer = new _luma_gl_core__WEBPACK_IMPORTED_MODULE_17__[\"default\"](gl, {\n        byteLength: dataBytes,\n        accessor: {\n          size: 4,\n          type: 5126,\n          divisor: 1\n        }\n      });\n      this.state.weights.color.aggregationBuffer = aggregationBuffer;\n      this.setState({\n        numCol: numCol,\n        numRow: numRow,\n        numInstances: numInstances,\n        aggregationBuffer: aggregationBuffer\n      });\n    }\n  }]);\n\n  return ScreenGridLayer;\n}(_deck_gl_core__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\n\n\nScreenGridLayer.layerName = 'ScreenGridLayer';\nScreenGridLayer.defaultProps = defaultProps;\n//# sourceMappingURL=screen-grid-layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGRlY2suZ2wvYWdncmVnYXRpb24tbGF5ZXJzL2Rpc3QvZXNtL3NjcmVlbi1ncmlkLWxheWVyL3NjcmVlbi1ncmlkLWxheWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BkZWNrLmdsL2FnZ3JlZ2F0aW9uLWxheWVycy9kaXN0L2VzbS9zY3JlZW4tZ3JpZC1sYXllci9zY3JlZW4tZ3JpZC1sYXllci5qcz8xOTA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9nZXQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2dldFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNcIjtcbmltcG9ydCB7IExheWVyLCBXZWJNZXJjYXRvclZpZXdwb3J0LCBjcmVhdGVJdGVyYWJsZSwgbG9nLCBleHBlcmltZW50YWwgfSBmcm9tICdAZGVjay5nbC9jb3JlJztcbnZhciBjb3VudCA9IGV4cGVyaW1lbnRhbC5jb3VudDtcbmltcG9ydCB7IGRlZmF1bHRDb2xvclJhbmdlLCBjb2xvclJhbmdlVG9GbGF0QXJyYXkgfSBmcm9tICcuLi91dGlscy9jb2xvci11dGlscyc7XG5pbXBvcnQgR1BVR3JpZEFnZ3JlZ2F0b3IgZnJvbSAnLi4vdXRpbHMvZ3B1LWdyaWQtYWdncmVnYXRpb24vZ3B1LWdyaWQtYWdncmVnYXRvcic7XG5pbXBvcnQgeyBBR0dSRUdBVElPTl9PUEVSQVRJT04gfSBmcm9tICcuLi91dGlscy9hZ2dyZWdhdGlvbi1vcGVyYXRpb24tdXRpbHMnO1xuaW1wb3J0IHsgTW9kZWwsIEdlb21ldHJ5LCBCdWZmZXIsIGlzV2ViR0wyIH0gZnJvbSAnQGx1bWEuZ2wvY29yZSc7XG5pbXBvcnQgdnMgZnJvbSAnLi9zY3JlZW4tZ3JpZC1sYXllci12ZXJ0ZXguZ2xzbCc7XG5pbXBvcnQgdnNfV2ViR0wxIGZyb20gJy4vc2NyZWVuLWdyaWQtbGF5ZXItdmVydGV4LXdlYmdsMS5nbHNsJztcbmltcG9ydCBmcyBmcm9tICcuL3NjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50Lmdsc2wnO1xuaW1wb3J0IGZzX1dlYkdMMSBmcm9tICcuL3NjcmVlbi1ncmlkLWxheWVyLWZyYWdtZW50LXdlYmdsMS5nbHNsJztcbnZhciBERUZBVUxUX01JTkNPTE9SID0gWzAsIDAsIDAsIDBdO1xudmFyIERFRkFVTFRfTUFYQ09MT1IgPSBbMCwgMjU1LCAwLCAyNTVdO1xudmFyIEFHR1JFR0FUSU9OX0RBVEFfVUJPX0lOREVYID0gMDtcbnZhciBDT0xPUl9QUk9QUyA9IFtcIm1pbkNvbG9yXCIsIFwibWF4Q29sb3JcIiwgXCJjb2xvclJhbmdlXCIsIFwiY29sb3JEb21haW5cIl07XG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBjZWxsU2l6ZVBpeGVsczoge1xuICAgIHZhbHVlOiAxMDAsXG4gICAgbWluOiAxXG4gIH0sXG4gIGNlbGxNYXJnaW5QaXhlbHM6IHtcbiAgICB2YWx1ZTogMixcbiAgICBtaW46IDAsXG4gICAgbWF4OiA1XG4gIH0sXG4gIGNvbG9yRG9tYWluOiBudWxsLFxuICBjb2xvclJhbmdlOiBkZWZhdWx0Q29sb3JSYW5nZSxcbiAgZ2V0UG9zaXRpb246IHtcbiAgICB0eXBlOiAnYWNjZXNzb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShkKSB7XG4gICAgICByZXR1cm4gZC5wb3NpdGlvbjtcbiAgICB9XG4gIH0sXG4gIGdldFdlaWdodDoge1xuICAgIHR5cGU6ICdhY2Nlc3NvcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGQpIHtcbiAgICAgIHJldHVybiBbMSwgMCwgMF07XG4gICAgfVxuICB9LFxuICBncHVBZ2dyZWdhdGlvbjogdHJ1ZSxcbiAgYWdncmVnYXRpb246ICdTVU0nXG59O1xuXG52YXIgU2NyZWVuR3JpZExheWVyID0gZnVuY3Rpb24gKF9MYXllcikge1xuICBfaW5oZXJpdHMoU2NyZWVuR3JpZExheWVyLCBfTGF5ZXIpO1xuXG4gIGZ1bmN0aW9uIFNjcmVlbkdyaWRMYXllcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2NyZWVuR3JpZExheWVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoU2NyZWVuR3JpZExheWVyKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTY3JlZW5HcmlkTGF5ZXIsIFt7XG4gICAga2V5OiBcImdldFNoYWRlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2hhZGVycygpIHtcbiAgICAgIHZhciBzaGFkZXJzID0gaXNXZWJHTDIodGhpcy5jb250ZXh0LmdsKSA/IHtcbiAgICAgICAgdnM6IHZzLFxuICAgICAgICBmczogZnNcbiAgICAgIH0gOiB7XG4gICAgICAgIHZzOiB2c19XZWJHTDEsXG4gICAgICAgIGZzOiBmc19XZWJHTDFcbiAgICAgIH07XG4gICAgICBzaGFkZXJzLm1vZHVsZXMgPSBbJ3BpY2tpbmcnXTtcbiAgICAgIHJldHVybiBzaGFkZXJzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0aWFsaXplU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXRlKCkge1xuICAgICAgdmFyIGF0dHJpYnV0ZU1hbmFnZXIgPSB0aGlzLmdldEF0dHJpYnV0ZU1hbmFnZXIoKTtcbiAgICAgIHZhciBnbCA9IHRoaXMuY29udGV4dC5nbDtcbiAgICAgIGF0dHJpYnV0ZU1hbmFnZXIuYWRkSW5zdGFuY2VkKHtcbiAgICAgICAgaW5zdGFuY2VQb3NpdGlvbnM6IHtcbiAgICAgICAgICBzaXplOiAzLFxuICAgICAgICAgIHVwZGF0ZTogdGhpcy5jYWxjdWxhdGVJbnN0YW5jZVBvc2l0aW9uc1xuICAgICAgICB9LFxuICAgICAgICBpbnN0YW5jZUNvdW50czoge1xuICAgICAgICAgIHNpemU6IDQsXG4gICAgICAgICAgdHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgICAgICBhY2Nlc3NvcjogWydnZXRQb3NpdGlvbicsICdnZXRXZWlnaHQnXSxcbiAgICAgICAgICB1cGRhdGU6IHRoaXMuY2FsY3VsYXRlSW5zdGFuY2VDb3VudHMsXG4gICAgICAgICAgbm9BbGxvYzogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBpZDogXCJcIi5jb25jYXQodGhpcy5pZCwgXCItYWdncmVnYXRvclwiKSxcbiAgICAgICAgc2hhZGVyQ2FjaGU6IHRoaXMuY29udGV4dC5zaGFkZXJDYWNoZVxuICAgICAgfTtcblxuICAgICAgdmFyIG1heEJ1ZmZlciA9IHRoaXMuX2dldE1heENvdW50QnVmZmVyKGdsKTtcblxuICAgICAgdmFyIHdlaWdodHMgPSB7XG4gICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICBvcGVyYXRpb246IEFHR1JFR0FUSU9OX09QRVJBVElPTi5TVU0sXG4gICAgICAgICAgbmVlZE1heDogdHJ1ZSxcbiAgICAgICAgICBtYXhCdWZmZXI6IG1heEJ1ZmZlclxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG1vZGVsOiB0aGlzLl9nZXRNb2RlbChnbCksXG4gICAgICAgIGdwdUdyaWRBZ2dyZWdhdG9yOiBuZXcgR1BVR3JpZEFnZ3JlZ2F0b3IoZ2wsIG9wdGlvbnMpLFxuICAgICAgICBtYXhCdWZmZXI6IG1heEJ1ZmZlcixcbiAgICAgICAgd2VpZ2h0czogd2VpZ2h0c1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3NldHVwVW5pZm9ybUJ1ZmZlcigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaG91bGRVcGRhdGVTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG91bGRVcGRhdGVTdGF0ZShfcmVmKSB7XG4gICAgICB2YXIgY2hhbmdlRmxhZ3MgPSBfcmVmLmNoYW5nZUZsYWdzO1xuICAgICAgcmV0dXJuIGNoYW5nZUZsYWdzLnNvbWV0aGluZ0NoYW5nZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKG9wdHMpIHtcbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFNjcmVlbkdyaWRMYXllci5wcm90b3R5cGUpLCBcInVwZGF0ZVN0YXRlXCIsIHRoaXMpLmNhbGwodGhpcywgb3B0cyk7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZVVuaWZvcm1zKG9wdHMpO1xuXG4gICAgICBpZiAob3B0cy5jaGFuZ2VGbGFncy5kYXRhQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRGF0YSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbmdlRmxhZ3MgPSB0aGlzLl9nZXRBZ2dyZWdhdGlvbkNoYW5nZUZsYWdzKG9wdHMpO1xuXG4gICAgICBpZiAoY2hhbmdlRmxhZ3MpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlQWdncmVnYXRpb24oY2hhbmdlRmxhZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaW5hbGl6ZVN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmFsaXplU3RhdGUoKSB7XG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihTY3JlZW5HcmlkTGF5ZXIucHJvdG90eXBlKSwgXCJmaW5hbGl6ZVN0YXRlXCIsIHRoaXMpLmNhbGwodGhpcyk7XG5cbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgYWdncmVnYXRpb25CdWZmZXIgPSBfdGhpcyRzdGF0ZS5hZ2dyZWdhdGlvbkJ1ZmZlcixcbiAgICAgICAgICBtYXhCdWZmZXIgPSBfdGhpcyRzdGF0ZS5tYXhCdWZmZXIsXG4gICAgICAgICAgZ3B1R3JpZEFnZ3JlZ2F0b3IgPSBfdGhpcyRzdGF0ZS5ncHVHcmlkQWdncmVnYXRvcjtcbiAgICAgIGdwdUdyaWRBZ2dyZWdhdG9yLmRlbGV0ZSgpO1xuXG4gICAgICBpZiAoYWdncmVnYXRpb25CdWZmZXIpIHtcbiAgICAgICAgYWdncmVnYXRpb25CdWZmZXIuZGVsZXRlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXhCdWZmZXIpIHtcbiAgICAgICAgbWF4QnVmZmVyLmRlbGV0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkcmF3XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoX3JlZjIpIHtcbiAgICAgIHZhciB1bmlmb3JtcyA9IF9yZWYyLnVuaWZvcm1zO1xuICAgICAgdmFyIGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgdmFyIF90aGlzJHByb3BzJHBhcmFtZXRlciA9IHRoaXMucHJvcHMucGFyYW1ldGVycyxcbiAgICAgICAgICBwYXJhbWV0ZXJzID0gX3RoaXMkcHJvcHMkcGFyYW1ldGVyID09PSB2b2lkIDAgPyB7fSA6IF90aGlzJHByb3BzJHBhcmFtZXRlcjtcbiAgICAgIHZhciBtaW5Db2xvciA9IHRoaXMucHJvcHMubWluQ29sb3IgfHwgREVGQVVMVF9NSU5DT0xPUjtcbiAgICAgIHZhciBtYXhDb2xvciA9IHRoaXMucHJvcHMubWF4Q29sb3IgfHwgREVGQVVMVF9NQVhDT0xPUjtcbiAgICAgIHZhciBjb2xvckRvbWFpbiA9IHRoaXMucHJvcHMuY29sb3JEb21haW4gfHwgWzEsIDBdO1xuICAgICAgdmFyIF90aGlzJHN0YXRlMiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgbW9kZWwgPSBfdGhpcyRzdGF0ZTIubW9kZWwsXG4gICAgICAgICAgbWF4QnVmZmVyID0gX3RoaXMkc3RhdGUyLm1heEJ1ZmZlcixcbiAgICAgICAgICBjZWxsU2NhbGUgPSBfdGhpcyRzdGF0ZTIuY2VsbFNjYWxlLFxuICAgICAgICAgIHNob3VsZFVzZU1pbk1heCA9IF90aGlzJHN0YXRlMi5zaG91bGRVc2VNaW5NYXgsXG4gICAgICAgICAgY29sb3JSYW5nZSA9IF90aGlzJHN0YXRlMi5jb2xvclJhbmdlLFxuICAgICAgICAgIG1heFdlaWdodCA9IF90aGlzJHN0YXRlMi5tYXhXZWlnaHQ7XG4gICAgICB2YXIgbGF5ZXJVbmlmb3JtcyA9IHtcbiAgICAgICAgbWluQ29sb3I6IG1pbkNvbG9yLFxuICAgICAgICBtYXhDb2xvcjogbWF4Q29sb3IsXG4gICAgICAgIGNlbGxTY2FsZTogY2VsbFNjYWxlLFxuICAgICAgICBjb2xvclJhbmdlOiBjb2xvclJhbmdlLFxuICAgICAgICBjb2xvckRvbWFpbjogY29sb3JEb21haW4sXG4gICAgICAgIHNob3VsZFVzZU1pbk1heDogc2hvdWxkVXNlTWluTWF4XG4gICAgICB9O1xuXG4gICAgICBpZiAoaXNXZWJHTDIoZ2wpKSB7XG4gICAgICAgIG1heEJ1ZmZlci5iaW5kKHtcbiAgICAgICAgICB0YXJnZXQ6IDM1MzQ1XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGF5ZXJVbmlmb3Jtcy5tYXhXZWlnaHQgPSBtYXhXZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIHVuaWZvcm1zID0gT2JqZWN0LmFzc2lnbihsYXllclVuaWZvcm1zLCB1bmlmb3Jtcyk7XG4gICAgICBtb2RlbC5kcmF3KHtcbiAgICAgICAgdW5pZm9ybXM6IHVuaWZvcm1zLFxuICAgICAgICBwYXJhbWV0ZXJzOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBkZXB0aFRlc3Q6IGZhbHNlLFxuICAgICAgICAgIGRlcHRoTWFzazogZmFsc2VcbiAgICAgICAgfSwgcGFyYW1ldGVycylcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNXZWJHTDIoZ2wpKSB7XG4gICAgICAgIG1heEJ1ZmZlci51bmJpbmQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FsY3VsYXRlSW5zdGFuY2VQb3NpdGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlSW5zdGFuY2VQb3NpdGlvbnMoYXR0cmlidXRlLCBfcmVmMykge1xuICAgICAgdmFyIG51bUluc3RhbmNlcyA9IF9yZWYzLm51bUluc3RhbmNlcztcbiAgICAgIHZhciBfdGhpcyRjb250ZXh0JHZpZXdwb3IgPSB0aGlzLmNvbnRleHQudmlld3BvcnQsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRjb250ZXh0JHZpZXdwb3Iud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkY29udGV4dCR2aWV3cG9yLmhlaWdodDtcbiAgICAgIHZhciBjZWxsU2l6ZVBpeGVscyA9IHRoaXMucHJvcHMuY2VsbFNpemVQaXhlbHM7XG4gICAgICB2YXIgbnVtQ29sID0gdGhpcy5zdGF0ZS5udW1Db2w7XG4gICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGUudmFsdWUsXG4gICAgICAgICAgc2l6ZSA9IGF0dHJpYnV0ZS5zaXplO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUluc3RhbmNlczsgaSsrKSB7XG4gICAgICAgIHZhciB4ID0gaSAlIG51bUNvbDtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKGkgLyBudW1Db2wpO1xuICAgICAgICB2YWx1ZVtpICogc2l6ZSArIDBdID0geCAqIGNlbGxTaXplUGl4ZWxzIC8gd2lkdGggKiAyIC0gMTtcbiAgICAgICAgdmFsdWVbaSAqIHNpemUgKyAxXSA9IDEgLSB5ICogY2VsbFNpemVQaXhlbHMgLyBoZWlnaHQgKiAyO1xuICAgICAgICB2YWx1ZVtpICogc2l6ZSArIDJdID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FsY3VsYXRlSW5zdGFuY2VDb3VudHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlSW5zdGFuY2VDb3VudHMoYXR0cmlidXRlLCBfcmVmNCkge1xuICAgICAgdmFyIG51bUluc3RhbmNlcyA9IF9yZWY0Lm51bUluc3RhbmNlcztcbiAgICAgIHZhciBhZ2dyZWdhdGlvbkJ1ZmZlciA9IHRoaXMuc3RhdGUuYWdncmVnYXRpb25CdWZmZXI7XG4gICAgICBhdHRyaWJ1dGUudXBkYXRlKHtcbiAgICAgICAgYnVmZmVyOiBhZ2dyZWdhdGlvbkJ1ZmZlclxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFBpY2tpbmdJbmZvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBpY2tpbmdJbmZvKF9yZWY1KSB7XG4gICAgICB2YXIgaW5mbyA9IF9yZWY1LmluZm8sXG4gICAgICAgICAgbW9kZSA9IF9yZWY1Lm1vZGU7XG4gICAgICB2YXIgaW5kZXggPSBpbmZvLmluZGV4O1xuXG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICB2YXIgZ3B1R3JpZEFnZ3JlZ2F0b3IgPSB0aGlzLnN0YXRlLmdwdUdyaWRBZ2dyZWdhdG9yO1xuICAgICAgICB2YXIgYWdncmVnYXRpb25SZXN1bHRzID0gZ3B1R3JpZEFnZ3JlZ2F0b3IuZ2V0RGF0YSgnY29sb3InKTtcbiAgICAgICAgaW5mby5vYmplY3QgPSBHUFVHcmlkQWdncmVnYXRvci5nZXRBZ2dyZWdhdGlvbkRhdGEoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgcGl4ZWxJbmRleDogaW5kZXhcbiAgICAgICAgfSwgYWdncmVnYXRpb25SZXN1bHRzKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0QWdncmVnYXRpb25DaGFuZ2VGbGFnc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0QWdncmVnYXRpb25DaGFuZ2VGbGFncyhfcmVmNikge1xuICAgICAgdmFyIG9sZFByb3BzID0gX3JlZjYub2xkUHJvcHMsXG4gICAgICAgICAgcHJvcHMgPSBfcmVmNi5wcm9wcyxcbiAgICAgICAgICBjaGFuZ2VGbGFncyA9IF9yZWY2LmNoYW5nZUZsYWdzO1xuICAgICAgdmFyIGNlbGxTaXplQ2hhbmdlZCA9IHByb3BzLmNlbGxTaXplUGl4ZWxzICE9PSBvbGRQcm9wcy5jZWxsU2l6ZVBpeGVscyB8fCBwcm9wcy5jZWxsTWFyZ2luUGl4ZWxzICE9PSBvbGRQcm9wcy5jZWxsTWFyZ2luUGl4ZWxzO1xuICAgICAgdmFyIGRhdGFDaGFuZ2VkID0gY2hhbmdlRmxhZ3MuZGF0YUNoYW5nZWQgfHwgcHJvcHMuYWdncmVnYXRpb24gIT09IG9sZFByb3BzLmFnZ3JlZ2F0aW9uO1xuICAgICAgdmFyIHZpZXdwb3J0Q2hhbmdlZCA9IGNoYW5nZUZsYWdzLnZpZXdwb3J0Q2hhbmdlZDtcblxuICAgICAgaWYgKGNlbGxTaXplQ2hhbmdlZCB8fCBkYXRhQ2hhbmdlZCB8fCB2aWV3cG9ydENoYW5nZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjZWxsU2l6ZUNoYW5nZWQ6IGNlbGxTaXplQ2hhbmdlZCxcbiAgICAgICAgICBkYXRhQ2hhbmdlZDogZGF0YUNoYW5nZWQsXG4gICAgICAgICAgdmlld3BvcnRDaGFuZ2VkOiB2aWV3cG9ydENoYW5nZWRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRNb2RlbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TW9kZWwoZ2wpIHtcbiAgICAgIHJldHVybiBuZXcgTW9kZWwoZ2wsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0U2hhZGVycygpLCB7XG4gICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxuICAgICAgICBnZW9tZXRyeTogbmV3IEdlb21ldHJ5KHtcbiAgICAgICAgICBkcmF3TW9kZTogNixcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBwb3NpdGlvbnM6IG5ldyBGbG9hdDMyQXJyYXkoWzAsIDAsIDAsIDEsIDAsIDAsIDEsIDEsIDAsIDAsIDEsIDBdKVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGlzSW5zdGFuY2VkOiB0cnVlLFxuICAgICAgICBzaGFkZXJDYWNoZTogdGhpcy5jb250ZXh0LnNoYWRlckNhY2hlXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRNYXhDb3VudEJ1ZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TWF4Q291bnRCdWZmZXIoZ2wpIHtcbiAgICAgIHJldHVybiBuZXcgQnVmZmVyKGdsLCB7XG4gICAgICAgIGJ5dGVMZW5ndGg6IDQgKiA0LFxuICAgICAgICBpbmRleDogQUdHUkVHQVRJT05fREFUQV9VQk9fSU5ERVgsXG4gICAgICAgIGFjY2Vzc29yOiB7XG4gICAgICAgICAgc2l6ZTogNFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Byb2Nlc3NEYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzRGF0YSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZGF0YSA9IF90aGlzJHByb3BzLmRhdGEsXG4gICAgICAgICAgZ2V0UG9zaXRpb24gPSBfdGhpcyRwcm9wcy5nZXRQb3NpdGlvbixcbiAgICAgICAgICBnZXRXZWlnaHQgPSBfdGhpcyRwcm9wcy5nZXRXZWlnaHQ7XG4gICAgICB2YXIgcG9pbnRDb3VudCA9IGNvdW50KGRhdGEpO1xuICAgICAgdmFyIHBvc2l0aW9ucyA9IG5ldyBGbG9hdDY0QXJyYXkocG9pbnRDb3VudCAqIDIpO1xuICAgICAgdmFyIGNvbG9yV2VpZ2h0cyA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRDb3VudCAqIDMpO1xuICAgICAgdmFyIHdlaWdodHMgPSB0aGlzLnN0YXRlLndlaWdodHM7XG5cbiAgICAgIHZhciBfY3JlYXRlSXRlcmFibGUgPSBjcmVhdGVJdGVyYWJsZShkYXRhKSxcbiAgICAgICAgICBpdGVyYWJsZSA9IF9jcmVhdGVJdGVyYWJsZS5pdGVyYWJsZSxcbiAgICAgICAgICBvYmplY3RJbmZvID0gX2NyZWF0ZUl0ZXJhYmxlLm9iamVjdEluZm87XG5cbiAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICB2YXIgb2JqZWN0ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgb2JqZWN0SW5mby5pbmRleCsrO1xuICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKG9iamVjdCwgb2JqZWN0SW5mbyk7XG4gICAgICAgICAgdmFyIHdlaWdodCA9IGdldFdlaWdodChvYmplY3QsIG9iamVjdEluZm8pO1xuICAgICAgICAgIHZhciBpbmRleCA9IG9iamVjdEluZm8uaW5kZXg7XG4gICAgICAgICAgcG9zaXRpb25zW2luZGV4ICogMl0gPSBwb3NpdGlvblswXTtcbiAgICAgICAgICBwb3NpdGlvbnNbaW5kZXggKiAyICsgMV0gPSBwb3NpdGlvblsxXTtcblxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHdlaWdodCkpIHtcbiAgICAgICAgICAgIGNvbG9yV2VpZ2h0c1tpbmRleCAqIDNdID0gd2VpZ2h0WzBdO1xuICAgICAgICAgICAgY29sb3JXZWlnaHRzW2luZGV4ICogMyArIDFdID0gd2VpZ2h0WzFdO1xuICAgICAgICAgICAgY29sb3JXZWlnaHRzW2luZGV4ICogMyArIDJdID0gd2VpZ2h0WzJdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb2xvcldlaWdodHNbaW5kZXggKiAzXSA9IHdlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7XG4gICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHdlaWdodHMuY29sb3IudmFsdWVzID0gY29sb3JXZWlnaHRzO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBvc2l0aW9uczogcG9zaXRpb25zXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NldHVwVW5pZm9ybUJ1ZmZlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBVbmlmb3JtQnVmZmVyKCkge1xuICAgICAgdmFyIGdsID0gdGhpcy5jb250ZXh0LmdsO1xuXG4gICAgICBpZiAoIWlzV2ViR0wyKGdsKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9ncmFtSGFuZGxlID0gdGhpcy5zdGF0ZS5tb2RlbC5wcm9ncmFtLmhhbmRsZTtcbiAgICAgIHZhciB1bmlmb3JtQmxvY2tJbmRleCA9IGdsLmdldFVuaWZvcm1CbG9ja0luZGV4KHByb2dyYW1IYW5kbGUsICdBZ2dyZWdhdGlvbkRhdGEnKTtcbiAgICAgIGdsLnVuaWZvcm1CbG9ja0JpbmRpbmcocHJvZ3JhbUhhbmRsZSwgdW5pZm9ybUJsb2NrSW5kZXgsIEFHR1JFR0FUSU9OX0RBVEFfVUJPX0lOREVYKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Nob3VsZFVzZU1pbk1heFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2hvdWxkVXNlTWluTWF4KCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgbWluQ29sb3IgPSBfdGhpcyRwcm9wczIubWluQ29sb3IsXG4gICAgICAgICAgbWF4Q29sb3IgPSBfdGhpcyRwcm9wczIubWF4Q29sb3IsXG4gICAgICAgICAgY29sb3JEb21haW4gPSBfdGhpcyRwcm9wczIuY29sb3JEb21haW4sXG4gICAgICAgICAgY29sb3JSYW5nZSA9IF90aGlzJHByb3BzMi5jb2xvclJhbmdlO1xuXG4gICAgICBpZiAobWluQ29sb3IgfHwgbWF4Q29sb3IpIHtcbiAgICAgICAgbG9nLmRlcHJlY2F0ZWQoJ1NjcmVlbkdyaWRMYXllciBwcm9wczogbWluQ29sb3IgYW5kIG1heENvbG9yJywgJ2NvbG9yUmFuZ2UsIGNvbG9yRG9tYWluJykoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb2xvckRvbWFpbiB8fCBjb2xvclJhbmdlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVBZ2dyZWdhdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlQWdncmVnYXRpb24oY2hhbmdlRmxhZ3MpIHtcbiAgICAgIHZhciBhdHRyaWJ1dGVNYW5hZ2VyID0gdGhpcy5nZXRBdHRyaWJ1dGVNYW5hZ2VyKCk7XG5cbiAgICAgIGlmIChjaGFuZ2VGbGFncy5jZWxsU2l6ZUNoYW5nZWQgfHwgY2hhbmdlRmxhZ3Mudmlld3BvcnRDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUdyaWRQYXJhbXMoKTtcblxuICAgICAgICBhdHRyaWJ1dGVNYW5hZ2VyLmludmFsaWRhdGVBbGwoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF90aGlzJHByb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2VsbFNpemVQaXhlbHMgPSBfdGhpcyRwcm9wczMuY2VsbFNpemVQaXhlbHMsXG4gICAgICAgICAgZ3B1QWdncmVnYXRpb24gPSBfdGhpcyRwcm9wczMuZ3B1QWdncmVnYXRpb247XG4gICAgICB2YXIgX3RoaXMkc3RhdGUzID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBwb3NpdGlvbnMgPSBfdGhpcyRzdGF0ZTMucG9zaXRpb25zLFxuICAgICAgICAgIHdlaWdodHMgPSBfdGhpcyRzdGF0ZTMud2VpZ2h0cztcbiAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMuY29udGV4dC52aWV3cG9ydDtcbiAgICAgIHdlaWdodHMuY29sb3Iub3BlcmF0aW9uID0gQUdHUkVHQVRJT05fT1BFUkFUSU9OW3RoaXMucHJvcHMuYWdncmVnYXRpb24udG9VcHBlckNhc2UoKV0gfHwgQUdHUkVHQVRJT05fT1BFUkFUSU9OLlNVTTtcbiAgICAgIHZhciBwcm9qZWN0UG9pbnRzID0gZmFsc2U7XG4gICAgICB2YXIgZ3JpZFRyYW5zZm9ybU1hdHJpeCA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLmNvbnRleHQudmlld3BvcnQgaW5zdGFuY2VvZiBXZWJNZXJjYXRvclZpZXdwb3J0KSB7XG4gICAgICAgIHByb2plY3RQb2ludHMgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvamVjdFBvaW50cyA9IGZhbHNlO1xuICAgICAgICBncmlkVHJhbnNmb3JtTWF0cml4ID0gdmlld3BvcnQucGl4ZWxQcm9qZWN0aW9uTWF0cml4O1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzdWx0cyA9IHRoaXMuc3RhdGUuZ3B1R3JpZEFnZ3JlZ2F0b3IucnVuKHtcbiAgICAgICAgcG9zaXRpb25zOiBwb3NpdGlvbnMsXG4gICAgICAgIHdlaWdodHM6IHdlaWdodHMsXG4gICAgICAgIGNlbGxTaXplOiBbY2VsbFNpemVQaXhlbHMsIGNlbGxTaXplUGl4ZWxzXSxcbiAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgICAgICBjaGFuZ2VGbGFnczogY2hhbmdlRmxhZ3MsXG4gICAgICAgIHVzZUdQVTogZ3B1QWdncmVnYXRpb24sXG4gICAgICAgIHByb2plY3RQb2ludHM6IHByb2plY3RQb2ludHMsXG4gICAgICAgIGdyaWRUcmFuc2Zvcm1NYXRyaXg6IGdyaWRUcmFuc2Zvcm1NYXRyaXhcbiAgICAgIH0pO1xuICAgICAgdmFyIG1heFdlaWdodCA9IHJlc3VsdHMuY29sb3IubWF4RGF0YSAmJiBOdW1iZXIuaXNGaW5pdGUocmVzdWx0cy5jb2xvci5tYXhEYXRhWzBdKSA/IHJlc3VsdHMuY29sb3IubWF4RGF0YVswXSA6IDA7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbWF4V2VpZ2h0OiBtYXhXZWlnaHRcbiAgICAgIH0pO1xuICAgICAgYXR0cmlidXRlTWFuYWdlci5pbnZhbGlkYXRlKCdpbnN0YW5jZUNvdW50cycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlVW5pZm9ybXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVVuaWZvcm1zKF9yZWY3KSB7XG4gICAgICB2YXIgb2xkUHJvcHMgPSBfcmVmNy5vbGRQcm9wcyxcbiAgICAgICAgICBwcm9wcyA9IF9yZWY3LnByb3BzLFxuICAgICAgICAgIGNoYW5nZUZsYWdzID0gX3JlZjcuY2hhbmdlRmxhZ3M7XG4gICAgICB2YXIgbmV3U3RhdGUgPSB7fTtcblxuICAgICAgaWYgKENPTE9SX1BST1BTLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gb2xkUHJvcHNba2V5XSAhPT0gcHJvcHNba2V5XTtcbiAgICAgIH0pKSB7XG4gICAgICAgIG5ld1N0YXRlLnNob3VsZFVzZU1pbk1heCA9IHRoaXMuX3Nob3VsZFVzZU1pbk1heCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAob2xkUHJvcHMuY29sb3JSYW5nZSAhPT0gcHJvcHMuY29sb3JSYW5nZSkge1xuICAgICAgICBuZXdTdGF0ZS5jb2xvclJhbmdlID0gY29sb3JSYW5nZVRvRmxhdEFycmF5KHByb3BzLmNvbG9yUmFuZ2UsIEZsb2F0MzJBcnJheSwgMjU1KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9sZFByb3BzLmNlbGxNYXJnaW5QaXhlbHMgIT09IHByb3BzLmNlbGxNYXJnaW5QaXhlbHMgfHwgb2xkUHJvcHMuY2VsbFNpemVQaXhlbHMgIT09IHByb3BzLmNlbGxTaXplUGl4ZWxzIHx8IGNoYW5nZUZsYWdzLnZpZXdwb3J0Q2hhbmdlZCkge1xuICAgICAgICB2YXIgX3RoaXMkY29udGV4dCR2aWV3cG9yMiA9IHRoaXMuY29udGV4dC52aWV3cG9ydCxcbiAgICAgICAgICAgIHdpZHRoID0gX3RoaXMkY29udGV4dCR2aWV3cG9yMi53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA9IF90aGlzJGNvbnRleHQkdmlld3BvcjIuaGVpZ2h0O1xuICAgICAgICB2YXIgX3RoaXMkcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNlbGxTaXplUGl4ZWxzID0gX3RoaXMkcHJvcHM0LmNlbGxTaXplUGl4ZWxzLFxuICAgICAgICAgICAgY2VsbE1hcmdpblBpeGVscyA9IF90aGlzJHByb3BzNC5jZWxsTWFyZ2luUGl4ZWxzO1xuICAgICAgICB2YXIgbWFyZ2luID0gY2VsbFNpemVQaXhlbHMgPiBjZWxsTWFyZ2luUGl4ZWxzID8gY2VsbE1hcmdpblBpeGVscyA6IDA7XG4gICAgICAgIG5ld1N0YXRlLmNlbGxTY2FsZSA9IG5ldyBGbG9hdDMyQXJyYXkoWyhjZWxsU2l6ZVBpeGVscyAtIG1hcmdpbikgLyB3aWR0aCAqIDIsIC0oY2VsbFNpemVQaXhlbHMgLSBtYXJnaW4pIC8gaGVpZ2h0ICogMiwgMV0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZUdyaWRQYXJhbXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUdyaWRQYXJhbXMoKSB7XG4gICAgICB2YXIgX3RoaXMkY29udGV4dCR2aWV3cG9yMyA9IHRoaXMuY29udGV4dC52aWV3cG9ydCxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJGNvbnRleHQkdmlld3BvcjMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkY29udGV4dCR2aWV3cG9yMy5oZWlnaHQ7XG4gICAgICB2YXIgY2VsbFNpemVQaXhlbHMgPSB0aGlzLnByb3BzLmNlbGxTaXplUGl4ZWxzO1xuICAgICAgdmFyIGdsID0gdGhpcy5jb250ZXh0LmdsO1xuICAgICAgdmFyIG51bUNvbCA9IE1hdGguY2VpbCh3aWR0aCAvIGNlbGxTaXplUGl4ZWxzKTtcbiAgICAgIHZhciBudW1Sb3cgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gY2VsbFNpemVQaXhlbHMpO1xuICAgICAgdmFyIG51bUluc3RhbmNlcyA9IG51bUNvbCAqIG51bVJvdztcbiAgICAgIHZhciBkYXRhQnl0ZXMgPSBudW1JbnN0YW5jZXMgKiA0ICogNDtcbiAgICAgIHZhciBhZ2dyZWdhdGlvbkJ1ZmZlciA9IHRoaXMuc3RhdGUuYWdncmVnYXRpb25CdWZmZXI7XG5cbiAgICAgIGlmIChhZ2dyZWdhdGlvbkJ1ZmZlcikge1xuICAgICAgICBhZ2dyZWdhdGlvbkJ1ZmZlci5kZWxldGUoKTtcbiAgICAgIH1cblxuICAgICAgYWdncmVnYXRpb25CdWZmZXIgPSBuZXcgQnVmZmVyKGdsLCB7XG4gICAgICAgIGJ5dGVMZW5ndGg6IGRhdGFCeXRlcyxcbiAgICAgICAgYWNjZXNzb3I6IHtcbiAgICAgICAgICBzaXplOiA0LFxuICAgICAgICAgIHR5cGU6IDUxMjYsXG4gICAgICAgICAgZGl2aXNvcjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3RhdGUud2VpZ2h0cy5jb2xvci5hZ2dyZWdhdGlvbkJ1ZmZlciA9IGFnZ3JlZ2F0aW9uQnVmZmVyO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG51bUNvbDogbnVtQ29sLFxuICAgICAgICBudW1Sb3c6IG51bVJvdyxcbiAgICAgICAgbnVtSW5zdGFuY2VzOiBudW1JbnN0YW5jZXMsXG4gICAgICAgIGFnZ3JlZ2F0aW9uQnVmZmVyOiBhZ2dyZWdhdGlvbkJ1ZmZlclxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjcmVlbkdyaWRMYXllcjtcbn0oTGF5ZXIpO1xuXG5leHBvcnQgeyBTY3JlZW5HcmlkTGF5ZXIgYXMgZGVmYXVsdCB9O1xuU2NyZWVuR3JpZExheWVyLmxheWVyTmFtZSA9ICdTY3JlZW5HcmlkTGF5ZXInO1xuU2NyZWVuR3JpZExheWVyLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcmVlbi1ncmlkLWxheWVyLmpzLm1hcCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer.js\n");

/***/ }),

/***/ "./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/layers/Screengrid/Screengrid.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/layers/Screengrid/Screengrid.js ***!
  \**************************************************************************************************/
/*! exports provided: getLayer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayer\", function() { return getLayer; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var deck_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deck.gl */ \"./node_modules/@deck.gl/aggregation-layers/dist/esm/screen-grid-layer/screen-grid-layer.js\");\n/* harmony import */ var _superset_ui_translation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @superset-ui/translation */ \"./node_modules/@superset-ui/translation/esm/index.js\");\n/* harmony import */ var _superset_ui_translation__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_superset_ui_translation__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _AnimatableDeckGLContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../AnimatableDeckGLContainer */ \"./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/AnimatableDeckGLContainer.js\");\n/* harmony import */ var _utils_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/time */ \"./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/utils/time.js\");\n/* harmony import */ var _utils_sandbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/sandbox */ \"./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/utils/sandbox.js\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common */ \"./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/layers/common.js\");\n/* harmony import */ var _TooltipRow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../TooltipRow */ \"./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/TooltipRow.js\");\n/* harmony import */ var _utils_fitViewport__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/fitViewport */ \"./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/utils/fitViewport.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable react/sort-prop-types */\n\n/* eslint-disable react/jsx-handler-names */\n\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"\", \"__timestamp\"] }] */\n\n\n\n\n\n\n\n\n // eslint-disable-next-line import/extensions\n\n\n\nfunction getPoints(data) {\n  return data.map(d => d.position);\n}\n\nfunction setTooltipContent(o) {\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"deckgl-tooltip\"\n  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TooltipRow__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    label: Object(_superset_ui_translation__WEBPACK_IMPORTED_MODULE_3__[\"t\"])('Longitude and Latitude') + \": \",\n    value: o.coordinate[0] + \", \" + o.coordinate[1]\n  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TooltipRow__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n    label: Object(_superset_ui_translation__WEBPACK_IMPORTED_MODULE_3__[\"t\"])('Weight') + \": \",\n    value: \"\" + o.object.weight\n  }));\n}\n\nfunction getLayer(formData, payload, onAddFilter, setTooltip, selected, onSelect, filters) {\n  const fd = formData;\n  const c = fd.color_picker;\n  let data = payload.data.features.map(d => _extends({}, d, {\n    color: [c.r, c.g, c.b, 255 * c.a]\n  }));\n\n  if (fd.js_data_mutator) {\n    // Applying user defined data mutator if defined\n    const jsFnMutator = Object(_utils_sandbox__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(fd.js_data_mutator);\n    data = jsFnMutator(data);\n  }\n\n  if (filters != null) {\n    filters.forEach(f => {\n      data = data.filter(x => f(x));\n    });\n  } // Passing a layer creator function instead of a layer since the\n  // layer needs to be regenerated at each render\n\n\n  return new deck_gl__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_extends({\n    id: \"screengrid-layer-\" + fd.slice_id,\n    data,\n    pickable: true,\n    cellSizePixels: fd.grid_size,\n    minColor: [c.r, c.g, c.b, 0],\n    maxColor: [c.r, c.g, c.b, 255 * c.a],\n    outline: false,\n    getWeight: d => d.weight || 0\n  }, Object(_common__WEBPACK_IMPORTED_MODULE_7__[\"commonLayerProps\"])(fd, setTooltip, setTooltipContent)));\n}\nconst propTypes = {\n  formData: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,\n  payload: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,\n  setControlValue: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  viewport: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,\n  onAddFilter: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,\n  width: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired\n};\nconst defaultProps = {\n  onAddFilter() {}\n\n};\n\nclass DeckGLScreenGrid extends react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"containerRef\", react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef());\n\n    _defineProperty(this, \"setTooltip\", tooltip => {\n      const {\n        current\n      } = this.containerRef;\n\n      if (current) {\n        current.setTooltip(tooltip);\n      }\n    });\n\n    this.state = DeckGLScreenGrid.getDerivedStateFromProps(props);\n    this.getLayers = this.getLayers.bind(this);\n    this.onValuesChange = this.onValuesChange.bind(this);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    // the state is computed only from the payload; if it hasn't changed, do\n    // not recompute state since this would reset selections and/or the play\n    // slider position due to changes in form controls\n    if (state && props.payload.form_data === state.formData) {\n      return null;\n    }\n\n    const features = props.payload.data.features || [];\n    const timestamps = features.map(f => f.__timestamp); // the granularity has to be read from the payload form_data, not the\n    // props formData which comes from the instantaneous controls state\n\n    const granularity = props.payload.form_data.time_grain_sqla || props.payload.form_data.granularity || 'P1D';\n    const {\n      start,\n      end,\n      getStep,\n      values,\n      disabled\n    } = Object(_utils_time__WEBPACK_IMPORTED_MODULE_5__[\"getPlaySliderParams\"])(timestamps, granularity);\n    const {\n      width,\n      height,\n      formData\n    } = props;\n    let {\n      viewport\n    } = props;\n\n    if (formData.autozoom) {\n      viewport = Object(_utils_fitViewport__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(viewport, {\n        width,\n        height,\n        points: getPoints(features)\n      });\n    }\n\n    return {\n      start,\n      end,\n      getStep,\n      values,\n      disabled,\n      viewport,\n      selected: [],\n      lastClick: 0,\n      formData: props.payload.form_data\n    };\n  }\n\n  onValuesChange(values) {\n    this.setState({\n      // eslint-disable-next-line react/no-access-state-in-setstate\n      values: Array.isArray(values) ? values : [values, values + this.state.getStep(values)]\n    });\n  }\n\n  getLayers(values) {\n    const filters = []; // time filter\n\n    if (values[0] === values[1] || values[1] === this.end) {\n      filters.push(d => d.__timestamp >= values[0] && d.__timestamp <= values[1]);\n    } else {\n      filters.push(d => d.__timestamp >= values[0] && d.__timestamp < values[1]);\n    }\n\n    const layer = getLayer(this.props.formData, this.props.payload, this.props.onAddFilter, this.setTooltip, filters);\n    return [layer];\n  }\n\n  render() {\n    const {\n      formData,\n      payload,\n      setControlValue\n    } = this.props;\n    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_AnimatableDeckGLContainer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n      ref: this.containerRef,\n      aggregation: true,\n      getLayers: this.getLayers,\n      start: this.state.start,\n      end: this.state.end,\n      getStep: this.state.getStep,\n      values: this.state.values,\n      disabled: this.state.disabled,\n      viewport: this.state.viewport,\n      width: this.props.width,\n      height: this.props.height,\n      mapboxApiAccessToken: payload.data.mapboxApiKey,\n      mapStyle: formData.mapbox_style,\n      setControlValue: setControlValue,\n      onValuesChange: this.onValuesChange,\n      onViewportChange: this.onViewportChange\n    }));\n  }\n\n}\n\nDeckGLScreenGrid.propTypes = propTypes;\nDeckGLScreenGrid.defaultProps = defaultProps;\n/* harmony default export */ __webpack_exports__[\"default\"] = (DeckGLScreenGrid);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHN1cGVyc2V0LXVpL2xlZ2FjeS1wcmVzZXQtY2hhcnQtZGVja2dsL2VzbS9sYXllcnMvU2NyZWVuZ3JpZC9TY3JlZW5ncmlkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BzdXBlcnNldC11aS9sZWdhY3ktcHJlc2V0LWNoYXJ0LWRlY2tnbC9lc20vbGF5ZXJzL1NjcmVlbmdyaWQvU2NyZWVuZ3JpZC5qcz9mN2U1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3NvcnQtcHJvcC10eXBlcyAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9qc3gtaGFuZGxlci1uYW1lcyAqL1xuXG4vKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIGVzbGludCBuby11bmRlcnNjb3JlLWRhbmdsZTogW1wiZXJyb3JcIiwgeyBcImFsbG93XCI6IFtcIlwiLCBcIl9fdGltZXN0YW1wXCJdIH1dICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFNjcmVlbkdyaWRMYXllciB9IGZyb20gJ2RlY2suZ2wnO1xuaW1wb3J0IHsgdCB9IGZyb20gJ0BzdXBlcnNldC11aS90cmFuc2xhdGlvbic7XG5pbXBvcnQgQW5pbWF0YWJsZURlY2tHTENvbnRhaW5lciBmcm9tICcuLi8uLi9BbmltYXRhYmxlRGVja0dMQ29udGFpbmVyJztcbmltcG9ydCB7IGdldFBsYXlTbGlkZXJQYXJhbXMgfSBmcm9tICcuLi8uLi91dGlscy90aW1lJztcbmltcG9ydCBzYW5kYm94ZWRFdmFsIGZyb20gJy4uLy4uL3V0aWxzL3NhbmRib3gnO1xuaW1wb3J0IHsgY29tbW9uTGF5ZXJQcm9wcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgVG9vbHRpcFJvdyBmcm9tICcuLi8uLi9Ub29sdGlwUm93JzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHRlbnNpb25zXG5cbmltcG9ydCBmaXRWaWV3cG9ydCBmcm9tICcuLi8uLi91dGlscy9maXRWaWV3cG9ydCc7XG5cbmZ1bmN0aW9uIGdldFBvaW50cyhkYXRhKSB7XG4gIHJldHVybiBkYXRhLm1hcChkID0+IGQucG9zaXRpb24pO1xufVxuXG5mdW5jdGlvbiBzZXRUb29sdGlwQ29udGVudChvKSB7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiZGVja2dsLXRvb2x0aXBcIlxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFRvb2x0aXBSb3csIHtcbiAgICBsYWJlbDogdCgnTG9uZ2l0dWRlIGFuZCBMYXRpdHVkZScpICsgXCI6IFwiLFxuICAgIHZhbHVlOiBvLmNvb3JkaW5hdGVbMF0gKyBcIiwgXCIgKyBvLmNvb3JkaW5hdGVbMV1cbiAgfSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcFJvdywge1xuICAgIGxhYmVsOiB0KCdXZWlnaHQnKSArIFwiOiBcIixcbiAgICB2YWx1ZTogXCJcIiArIG8ub2JqZWN0LndlaWdodFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXllcihmb3JtRGF0YSwgcGF5bG9hZCwgb25BZGRGaWx0ZXIsIHNldFRvb2x0aXAsIHNlbGVjdGVkLCBvblNlbGVjdCwgZmlsdGVycykge1xuICBjb25zdCBmZCA9IGZvcm1EYXRhO1xuICBjb25zdCBjID0gZmQuY29sb3JfcGlja2VyO1xuICBsZXQgZGF0YSA9IHBheWxvYWQuZGF0YS5mZWF0dXJlcy5tYXAoZCA9PiBfZXh0ZW5kcyh7fSwgZCwge1xuICAgIGNvbG9yOiBbYy5yLCBjLmcsIGMuYiwgMjU1ICogYy5hXVxuICB9KSk7XG5cbiAgaWYgKGZkLmpzX2RhdGFfbXV0YXRvcikge1xuICAgIC8vIEFwcGx5aW5nIHVzZXIgZGVmaW5lZCBkYXRhIG11dGF0b3IgaWYgZGVmaW5lZFxuICAgIGNvbnN0IGpzRm5NdXRhdG9yID0gc2FuZGJveGVkRXZhbChmZC5qc19kYXRhX211dGF0b3IpO1xuICAgIGRhdGEgPSBqc0ZuTXV0YXRvcihkYXRhKTtcbiAgfVxuXG4gIGlmIChmaWx0ZXJzICE9IG51bGwpIHtcbiAgICBmaWx0ZXJzLmZvckVhY2goZiA9PiB7XG4gICAgICBkYXRhID0gZGF0YS5maWx0ZXIoeCA9PiBmKHgpKTtcbiAgICB9KTtcbiAgfSAvLyBQYXNzaW5nIGEgbGF5ZXIgY3JlYXRvciBmdW5jdGlvbiBpbnN0ZWFkIG9mIGEgbGF5ZXIgc2luY2UgdGhlXG4gIC8vIGxheWVyIG5lZWRzIHRvIGJlIHJlZ2VuZXJhdGVkIGF0IGVhY2ggcmVuZGVyXG5cblxuICByZXR1cm4gbmV3IFNjcmVlbkdyaWRMYXllcihfZXh0ZW5kcyh7XG4gICAgaWQ6IFwic2NyZWVuZ3JpZC1sYXllci1cIiArIGZkLnNsaWNlX2lkLFxuICAgIGRhdGEsXG4gICAgcGlja2FibGU6IHRydWUsXG4gICAgY2VsbFNpemVQaXhlbHM6IGZkLmdyaWRfc2l6ZSxcbiAgICBtaW5Db2xvcjogW2MuciwgYy5nLCBjLmIsIDBdLFxuICAgIG1heENvbG9yOiBbYy5yLCBjLmcsIGMuYiwgMjU1ICogYy5hXSxcbiAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICBnZXRXZWlnaHQ6IGQgPT4gZC53ZWlnaHQgfHwgMFxuICB9LCBjb21tb25MYXllclByb3BzKGZkLCBzZXRUb29sdGlwLCBzZXRUb29sdGlwQ29udGVudCkpKTtcbn1cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgZm9ybURhdGE6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgcGF5bG9hZDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzZXRDb250cm9sVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHZpZXdwb3J0OiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIG9uQWRkRmlsdGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG9uQWRkRmlsdGVyKCkge31cblxufTtcblxuY2xhc3MgRGVja0dMU2NyZWVuR3JpZCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbnRhaW5lclJlZlwiLCBSZWFjdC5jcmVhdGVSZWYoKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRUb29sdGlwXCIsIHRvb2x0aXAgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjdXJyZW50XG4gICAgICB9ID0gdGhpcy5jb250YWluZXJSZWY7XG5cbiAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgIGN1cnJlbnQuc2V0VG9vbHRpcCh0b29sdGlwKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc3RhdGUgPSBEZWNrR0xTY3JlZW5HcmlkLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcyk7XG4gICAgdGhpcy5nZXRMYXllcnMgPSB0aGlzLmdldExheWVycy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25WYWx1ZXNDaGFuZ2UgPSB0aGlzLm9uVmFsdWVzQ2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIC8vIHRoZSBzdGF0ZSBpcyBjb21wdXRlZCBvbmx5IGZyb20gdGhlIHBheWxvYWQ7IGlmIGl0IGhhc24ndCBjaGFuZ2VkLCBkb1xuICAgIC8vIG5vdCByZWNvbXB1dGUgc3RhdGUgc2luY2UgdGhpcyB3b3VsZCByZXNldCBzZWxlY3Rpb25zIGFuZC9vciB0aGUgcGxheVxuICAgIC8vIHNsaWRlciBwb3NpdGlvbiBkdWUgdG8gY2hhbmdlcyBpbiBmb3JtIGNvbnRyb2xzXG4gICAgaWYgKHN0YXRlICYmIHByb3BzLnBheWxvYWQuZm9ybV9kYXRhID09PSBzdGF0ZS5mb3JtRGF0YSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgZmVhdHVyZXMgPSBwcm9wcy5wYXlsb2FkLmRhdGEuZmVhdHVyZXMgfHwgW107XG4gICAgY29uc3QgdGltZXN0YW1wcyA9IGZlYXR1cmVzLm1hcChmID0+IGYuX190aW1lc3RhbXApOyAvLyB0aGUgZ3JhbnVsYXJpdHkgaGFzIHRvIGJlIHJlYWQgZnJvbSB0aGUgcGF5bG9hZCBmb3JtX2RhdGEsIG5vdCB0aGVcbiAgICAvLyBwcm9wcyBmb3JtRGF0YSB3aGljaCBjb21lcyBmcm9tIHRoZSBpbnN0YW50YW5lb3VzIGNvbnRyb2xzIHN0YXRlXG5cbiAgICBjb25zdCBncmFudWxhcml0eSA9IHByb3BzLnBheWxvYWQuZm9ybV9kYXRhLnRpbWVfZ3JhaW5fc3FsYSB8fCBwcm9wcy5wYXlsb2FkLmZvcm1fZGF0YS5ncmFudWxhcml0eSB8fCAnUDFEJztcbiAgICBjb25zdCB7XG4gICAgICBzdGFydCxcbiAgICAgIGVuZCxcbiAgICAgIGdldFN0ZXAsXG4gICAgICB2YWx1ZXMsXG4gICAgICBkaXNhYmxlZFxuICAgIH0gPSBnZXRQbGF5U2xpZGVyUGFyYW1zKHRpbWVzdGFtcHMsIGdyYW51bGFyaXR5KTtcbiAgICBjb25zdCB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGZvcm1EYXRhXG4gICAgfSA9IHByb3BzO1xuICAgIGxldCB7XG4gICAgICB2aWV3cG9ydFxuICAgIH0gPSBwcm9wcztcblxuICAgIGlmIChmb3JtRGF0YS5hdXRvem9vbSkge1xuICAgICAgdmlld3BvcnQgPSBmaXRWaWV3cG9ydCh2aWV3cG9ydCwge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBwb2ludHM6IGdldFBvaW50cyhmZWF0dXJlcylcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydCxcbiAgICAgIGVuZCxcbiAgICAgIGdldFN0ZXAsXG4gICAgICB2YWx1ZXMsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgc2VsZWN0ZWQ6IFtdLFxuICAgICAgbGFzdENsaWNrOiAwLFxuICAgICAgZm9ybURhdGE6IHByb3BzLnBheWxvYWQuZm9ybV9kYXRhXG4gICAgfTtcbiAgfVxuXG4gIG9uVmFsdWVzQ2hhbmdlKHZhbHVlcykge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFjY2Vzcy1zdGF0ZS1pbi1zZXRzdGF0ZVxuICAgICAgdmFsdWVzOiBBcnJheS5pc0FycmF5KHZhbHVlcykgPyB2YWx1ZXMgOiBbdmFsdWVzLCB2YWx1ZXMgKyB0aGlzLnN0YXRlLmdldFN0ZXAodmFsdWVzKV1cbiAgICB9KTtcbiAgfVxuXG4gIGdldExheWVycyh2YWx1ZXMpIHtcbiAgICBjb25zdCBmaWx0ZXJzID0gW107IC8vIHRpbWUgZmlsdGVyXG5cbiAgICBpZiAodmFsdWVzWzBdID09PSB2YWx1ZXNbMV0gfHwgdmFsdWVzWzFdID09PSB0aGlzLmVuZCkge1xuICAgICAgZmlsdGVycy5wdXNoKGQgPT4gZC5fX3RpbWVzdGFtcCA+PSB2YWx1ZXNbMF0gJiYgZC5fX3RpbWVzdGFtcCA8PSB2YWx1ZXNbMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWx0ZXJzLnB1c2goZCA9PiBkLl9fdGltZXN0YW1wID49IHZhbHVlc1swXSAmJiBkLl9fdGltZXN0YW1wIDwgdmFsdWVzWzFdKTtcbiAgICB9XG5cbiAgICBjb25zdCBsYXllciA9IGdldExheWVyKHRoaXMucHJvcHMuZm9ybURhdGEsIHRoaXMucHJvcHMucGF5bG9hZCwgdGhpcy5wcm9wcy5vbkFkZEZpbHRlciwgdGhpcy5zZXRUb29sdGlwLCBmaWx0ZXJzKTtcbiAgICByZXR1cm4gW2xheWVyXTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBmb3JtRGF0YSxcbiAgICAgIHBheWxvYWQsXG4gICAgICBzZXRDb250cm9sVmFsdWVcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGFibGVEZWNrR0xDb250YWluZXIsIHtcbiAgICAgIHJlZjogdGhpcy5jb250YWluZXJSZWYsXG4gICAgICBhZ2dyZWdhdGlvbjogdHJ1ZSxcbiAgICAgIGdldExheWVyczogdGhpcy5nZXRMYXllcnMsXG4gICAgICBzdGFydDogdGhpcy5zdGF0ZS5zdGFydCxcbiAgICAgIGVuZDogdGhpcy5zdGF0ZS5lbmQsXG4gICAgICBnZXRTdGVwOiB0aGlzLnN0YXRlLmdldFN0ZXAsXG4gICAgICB2YWx1ZXM6IHRoaXMuc3RhdGUudmFsdWVzLFxuICAgICAgZGlzYWJsZWQ6IHRoaXMuc3RhdGUuZGlzYWJsZWQsXG4gICAgICB2aWV3cG9ydDogdGhpcy5zdGF0ZS52aWV3cG9ydCxcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxuICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCxcbiAgICAgIG1hcGJveEFwaUFjY2Vzc1Rva2VuOiBwYXlsb2FkLmRhdGEubWFwYm94QXBpS2V5LFxuICAgICAgbWFwU3R5bGU6IGZvcm1EYXRhLm1hcGJveF9zdHlsZSxcbiAgICAgIHNldENvbnRyb2xWYWx1ZTogc2V0Q29udHJvbFZhbHVlLFxuICAgICAgb25WYWx1ZXNDaGFuZ2U6IHRoaXMub25WYWx1ZXNDaGFuZ2UsXG4gICAgICBvblZpZXdwb3J0Q2hhbmdlOiB0aGlzLm9uVmlld3BvcnRDaGFuZ2VcbiAgICB9KSk7XG4gIH1cblxufVxuXG5EZWNrR0xTY3JlZW5HcmlkLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkRlY2tHTFNjcmVlbkdyaWQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgRGVja0dMU2NyZWVuR3JpZDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@superset-ui/legacy-preset-chart-deckgl/esm/layers/Screengrid/Screengrid.js\n");

/***/ })

}]);